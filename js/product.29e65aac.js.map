{"version":3,"sources":["webpack:///./src/views/product.vue?4abe","webpack:///src/views/product.vue","webpack:///./src/views/product.vue?a229","webpack:///./src/views/product.vue","webpack:///./src/views/product.vue?4ff9"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_l","img","index","directives","name","rawName","value","showImgIndex","expression","key","productDetail","on","$event","imgs","length","_v","_s","desc","price","prop1_name","options","class","active","indexActive1","indexActive2","prop1_value","_m","list","prop2_value","joinCart","staticRenderFns","created","api","updated","data","productOptions","computed","optionsList","sku_id","methods","alert","watch","components","component"],"mappings":"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","file":"js/product.29e65aac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"product\"}},[_c('app-header'),_c('div',{staticClass:\"product\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"pro-view\"},[_c('div',{staticClass:\"view-list\"},_vm._l((_vm.imgs),function(img,index){return _c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(index==_vm.showImgIndex),expression:\"index==showImgIndex\"}],key:(\"img_\" + index),attrs:{\"src\":img,\"alt\":_vm.productDetail.name}})}),0),_c('div',{staticClass:\"view-control\"},[_c('div',{staticClass:\"control-lr\"},[_c('a',{staticClass:\"control-prev\",attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){_vm.showImgIndex==0?_vm.showImgIndex=_vm.imgs.length-1:_vm.showImgIndex--}}},[_vm._v(\"上一张\")]),_c('a',{staticClass:\"control-next\",attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){_vm.showImgIndex==_vm.imgs.length-1?_vm.showImgIndex=0:_vm.showImgIndex++}}},[_vm._v(\"下一张\")])]),_c('div',{staticClass:\"control-page\"},_vm._l((_vm.imgs),function(img,index){return _c('a',{key:(\"img_\" + index),on:{\"click\":function($event){_vm.showImgIndex=index}}},[_vm._v(_vm._s(index+1))])}),0)])]),_c('div',{staticClass:\"pro-info\"},[_c('h1',{staticClass:\"pro-title\"},[_vm._v(_vm._s(_vm.productDetail.name))]),_c('p',{staticClass:\"pro-desc\"},[_vm._v(_vm._s(_vm.productDetail.desc))]),_c('div',{staticClass:\"pro-price\"},[_c('span',[_c('label',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.price))]),_vm._v(\"元 \")])]),_c('div',{staticClass:\"pro-choose\"},[_c('div',{staticClass:\"choose1\"},[_c('p',{staticClass:\"choose-title\"},[_vm._v(\" 选择 \"),_c('span',{staticClass:\"prop-name\"},[_vm._v(_vm._s(_vm.productDetail.prop1_name))])]),_c('ul',{staticClass:\"choose-list clearfix\"},_vm._l((_vm.productOptions),function(options,index){return _c('li',{key:(\"options_\" + index),class:{active:index==_vm.indexActive1},on:{\"click\":function($event){_vm.indexActive1=index,_vm.indexActive2=0}}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('span',{staticClass:\"list-name\"},[_vm._v(_vm._s(options.prop1_value))]),_c('span',{staticClass:\"list-price\"},[_c('label',{staticClass:\"price\"},[_vm._v(_vm._s(options.price))]),_vm._v(\"元 \")])])])}),0)]),_c('div',{staticClass:\"choose2\"},[_vm._m(0),_c('ul',{staticClass:\"choose-list clearfix\"},_vm._l((_vm.optionsList),function(list,index){return _c('li',{key:(\"list_\" + index),class:{active:index==_vm.indexActive2},on:{\"click\":function($event){_vm.indexActive2=index}}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('span',{staticClass:\"list-name\"},[_vm._v(_vm._s(list.prop2_value))])])])}),0)])]),_c('div',{staticClass:\"pro-btn\"},[_c('a',{attrs:{\"href\":\"javascript:;\",\"id\":\"addCart\"},on:{\"click\":_vm.joinCart}},[_vm._v(\"加入购物车\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"choose-title\"},[_vm._v(\" 选择 \"),_c('span',{staticClass:\"prop-name\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"product\">\r\n    <app-header></app-header>\r\n    <div class=\"product\">\r\n      <!-- v-for=\"(options,index) in productOptions\" :key=\"`options_${index}`\" -->\r\n      <div class=\"container\">\r\n        <div class=\"pro-view\">\r\n          <div class=\"view-list\">\r\n            <img v-for=\"(img,index) in imgs\" :key=\"`img_${index}`\" \r\n            :src=\"img\" \r\n            :alt=\"productDetail.name\" \r\n            v-show=\"index==showImgIndex\"/>\r\n          </div>\r\n          <div class=\"view-control\">\r\n            <div class=\"control-lr\">\r\n              <a href=\"javascript:\" class=\"control-prev\" \r\n              @click=\"showImgIndex==0?showImgIndex=imgs.length-1:showImgIndex--\">上一张</a>\r\n              <a href=\"javascript:\" class=\"control-next\"\r\n               @click=\"showImgIndex==imgs.length-1?showImgIndex=0:showImgIndex++\">下一张</a>\r\n            </div>\r\n            <div class=\"control-page\">\r\n              <a \r\n              v-for=\"(img,index) in imgs\" :key=\"`img_${index}`\"\r\n              @click=\"showImgIndex=index\">{{index+1}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"pro-info\">\r\n          <h1 class=\"pro-title\">{{productDetail.name}}</h1>\r\n          <p class=\"pro-desc\">{{productDetail.desc}}</p>\r\n          <div class=\"pro-price\">\r\n            <span>\r\n              <label class=\"price\">{{price}}</label>元\r\n            </span>\r\n          </div>\r\n          <div class=\"pro-choose\">\r\n            <div class=\"choose1\">\r\n              <p class=\"choose-title\">\r\n                选择\r\n                <span class=\"prop-name\">{{productDetail.prop1_name}}</span>\r\n              </p>\r\n              <ul class=\"choose-list clearfix\">\r\n                <li\r\n                  :class=\"{active:index==indexActive1}\"\r\n                  @click=\"indexActive1=index,indexActive2=0\"\r\n                  v-for=\"(options,index) in productOptions\"\r\n                  :key=\"`options_${index}`\"\r\n                >\r\n                  <a href=\"javascript:;\">\r\n                    <span class=\"list-name\">{{options.prop1_value}}</span>\r\n                    <span class=\"list-price\">\r\n                      <label class=\"price\">{{options.price}}</label>元\r\n                    </span>\r\n                  </a>\r\n                </li>\r\n                \r\n              </ul>\r\n            </div>\r\n            \r\n            <div class=\"choose2\">\r\n              <p class=\"choose-title\">\r\n                选择\r\n                <span class=\"prop-name\"></span>\r\n              </p>\r\n              <ul class=\"choose-list clearfix\">\r\n                <li\r\n                  v-for=\"(list,index) in optionsList\"\r\n                  :key=\"`list_${index}`\"\r\n                  :class=\"{active:index==indexActive2}\"\r\n                  @click=\"indexActive2=index\"\r\n                >\r\n                  <a href=\"javascript:;\">\r\n                    <span class=\"list-name\">{{list.prop2_value}}</span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div class=\"pro-btn\">\r\n            <a href=\"javascript:;\" id=\"addCart\" @click=\"joinCart\">加入购物车</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import header from \"../components/header\";\r\nimport api from \"../utils/api\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  created() {\r\n    api.get(`/productDetail?pid=${this.$route.query.pid}`).then(\r\n      data => {\r\n        document.title = data.name;\r\n        this.productDetail = data;\r\n        this.productOptions = data.options;\r\n        this.imgs=this.productOptions[this.indexActive1].list[this.indexActive2].imgs;\r\n      },\r\n      err => {}\r\n    );\r\n    \r\n  },\r\n\r\n  updated() {\r\n  //  console.log(this.sku_id)\r\n  },\r\n  data() {\r\n    return {\r\n      productDetail: {},\r\n      productOptions: [],\r\n      // optionsList:[],\r\n      // price:'',\r\n      imgs:[],\r\n      // indexActive1是选择的版本\r\n      indexActive1: 0,\r\n      // indexActive2是选择的手机颜色\r\n      indexActive2: 0,\r\n      // 图片展示索引\r\n      showImgIndex:0,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"user\", [\"isLoggedIn\"]),\r\n    optionsList() {\r\n      // 如果productOptions是一个空数组，就会报错没有list这个属性\r\n      return this.productOptions.length != 0\r\n        ? this.productOptions[this.indexActive1].list\r\n        : [];\r\n    },\r\n    price(){\r\n      return this.productOptions.length != 0\r\n        ? this.productOptions[this.indexActive1].list[this.indexActive2].price\r\n        : \"\";\r\n    },\r\n    sku_id(){\r\n      return this.productOptions.length != 0\r\n        ? this.productOptions[this.indexActive1].list[this.indexActive2].sku_id\r\n        : \"\";\r\n    },\r\n  },\r\n\r\n  methods:{\r\n    // joinCart点击加入购物车的回调\r\n    joinCart(){\r\n      if(this.isLoggedIn){\r\n        // 调用添加购物车接口\r\n        api.post(\"/user/addCart\",{sku_id:this.sku_id}).then(data=>{\r\n          // 更新总商品数量\r\n          this.$store.dispatch(\"cart/CHANGEcartGoodsList\");\r\n          alert(\"添加成功！\")\r\n        });\r\n      }else{\r\n        alert(\"请先登录！\")\r\n      }\r\n       \r\n    },\r\n  },\r\n  watch:{\r\n    \r\n  },\r\n\r\n  components: {\r\n    // \"app-header\": header\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import url(../css/iconfont.css);\r\n@import url(../css/style.css);\r\n@import url(../css/product.css);\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=281d0f7e&scoped=true&\"\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&id=281d0f7e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"281d0f7e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=style&index=0&id=281d0f7e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=style&index=0&id=281d0f7e&scoped=true&lang=scss&\""],"sourceRoot":""}